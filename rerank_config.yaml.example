model:
  mode: cross
  cross_name: BAAI/bge-reranker-v2-m3
  embedding_name: intfloat/multilingual-e5-base
  batch_size_cross: 32
  batch_size_bi: 64
  normalize_embeddings: true
  trust_remote_code: true

huggingface:
  token: null
  cache_dir: null
  model_dir: /app/models
  prefetch:
    - sentence-transformers/paraphrase-multilingual-mpnet-base-v2
    - BAAI/bge-reranker-v2-m3

server:
  host: 0.0.0.0
  port: 8000
  cors_origins: ["*"]
  api_keys:
    - change-me-123
  warmup:
    enabled: true
    load:
      cross: true       # load the cross-encoder (reranker)
      bi: false         # load the bi-encoder (if using "bi" mode)
      embedding: false   # load the embedding model used by /v1/encode
    texts: ["warmup", "test"]  # small texts for a forward pass

security:
  brute_force:
    enabled: true
    max_failures: 10          # Number of failed attempts allowed
    window_seconds: 60        # Time window to count failures
    ban_seconds: 300          # Ban duration (seconds) -> 5 minutes
    ban_file: "/app/banned_ips.json" # MUST be an absolute path to store persistent bans
    trust_proxy_headers: false # Set to true if behind a trusted reverse proxy (e.g. Nginx, Cloudflare)

logging:
  level: INFO
  format: json    # json or text
  file: null      # null -> stdout (container logs)